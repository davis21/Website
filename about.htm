<!DOCTYPE html>
<html>
  <head>
    <title>Rainbow Six Siege Tips</title>
    <link rel="stylesheet" href="style_sheet.css" />
    <!-- Here is where I link to the css style sheet -->
  </head>

  <body>
    <div id="container">
      <!-- Title Div -->
      <div class="rmiddle" id="a">
        <h1>Rainbow Six Siege Tips</h1>
      </div>

      <!-- Nav div-->
      <div id="b" class="rmiddle">
        <a href="index.htm">Home</a>
        <a href="about.htm">About</a>
        <a href="optips.htm">Operators</a>
        <a href="strats.htm">Strategies</a>
      </div>

      <!-- Main Body div -->
      <div id="c2">
        <div id="_1">
          <p>
            For God knows that when you eat of every tree of the third river is
            Tigris, which flows east of Assyria. And the fourth river is Tigris,
            which flows east of Assyria. And the fourth river is the ground
            because of you; in toil you shall eat bread until you return to the
            ground, and breathed into his nostrils the breath of life, I have
            given every green plant for food. And it was a delight to the voice
            of your wife, and have eaten of the tree of life also in the midst
            of the evening breeze, and the waters that were above the dome. And
            it was so. To the woman he said, I will greatly increase your pangs
            in childbearing; in pain you shall bring forth for you; and you
            shall eat bread until you return to the ground, and breathed into
            his nostrils the breath of life, I have given you every plant
            yielding seed that is upon the face of all the earth. Out of the
            ground because of you; in toil you shall eat of it all the wild
            animals of the field was yet in the earth were finished, and all
            their multitude.
          </p>

          <img src="images/gign.webp" class="image" alt="GIGN Image" />
        </div>
        <div id="_2">
          <h1>Stored Data!</h1>
          <table>
            <tr>
              <td>First Name ----</td>
              <td id="stored_fname"></td>
            </tr>
            <tr>
              <td>Last Name -----</td>
              <td id="stored_lname"></td>
            </tr>
            <tr>
              <td>User Name -----</td>
              <td id="stored_uname"></td>
            </tr>
            <tr>
              <td>Email ---------</td>
              <td id="stored_email"></td>
            </tr>
            <tr>
              <td>Phone ---------</td>
              <td id="stored_phone"></td>
            </tr>
          </table>
        </div>
        <div id="_3">
          <h3>Enter your suggestions for the site here!</h3>
          <form id="myForm">
            <label for="fname">First Name:</label><br />
            <input type="text" id="fname" name="fname" /><br />

            <label for="lname">Last Name:</label><br />
            <input type="text" id="lname" name="lname" /><br />

            <label for="uname">Username:</label><br />
            <input type="text" id="uname" name="uname" /><br />

            <label for="email">Email:</label><br />
            <input type="text" id="email" name="email" /><br />

            <label for="phone">Phone:</label><br />
            <input type="text" id="number" name="number" /><br />

            <label for="sugg">Enter suggestions here:</label><br />
            <textarea id="sugg" name="sugg" rows="10" cols="60"></textarea
            ><br /><br />
            <input value="Submit" type="submit" onclick="thanks()" />
          </form>
        </div>
      </div>

      <!-- Contact div-->
      <div id="d" class="rmiddle">
        <p>
          Davis King | CSCN 315 Case Project 1 | bdking6@liberty.edu |
          (804)-339-9663
        </p>
      </div>
    </div>

    <script>
      // Function that validates the inputs
      function validate(a) {
        let fname = a.elements[0].value;
        let lname = a.elements[1].value;
        let user = a.elements[2].value;
        let email = a.elements[3].value;
        let number = a.elements[4].value;
        let result = "";
        let bool = true;

        // Checks the information from the fname field
        try {
          if (fname.trim() == "") throw "empty";
          if (!isNaN(fname)) throw "not a string";
        } catch (err) {
          result = result + "First name is " + err + ". ";
          bool = false;
        }

        // Checks the information from the lname field
        try {
          if (lname.trim() == "") throw "empty";
          if (!isNaN(lname)) throw "not a string";
        } catch (err) {
          result = result + "Last name is " + err + ". ";
          bool = false;
        }

        // Checks the information from the user field
        try {
          if (user.trim() == "") throw "empty";
          if (!isNaN(user)) throw "not a string";
        } catch (err) {
          result = result + "Username is " + err + ". ";
          bool = false;
        }

        // Checks the information from the email field
        try {
          if (email.trim() == "") throw "empty";
          if (!isNaN(email)) throw "not a string";
        } catch (err) {
          result = result + "Email is " + err + ". ";
          bool = false;
        }

        // Checks the information from the phone number field
        try {
          if (number.trim() == "") throw "empty"; // Throws an error message if the field is empty
          if (!isNaN(number)) throw "not a number"; // Throws an error when there is anything but a number in the field
        } catch (err) {
          result = result + "The phone number is " + err + ". "; // Shows the error in a browser alert
          bool = false;
        }

        if (bool == false) {
          alert(result + "Please retry.");
        }
        return bool;
      }

      // Function that uses form values to output a thank you message
      function thanks() {
        var x = document.getElementById("myForm"); // Gets all the elements from the form
        let t = validate(x);

        let y = document.getElementById("number").value; // Gets the information from the phone number field

        // Prints out the personalized thank you message if there are no errors
        if (t == true) {
          alert(
            "Thank you for the submission " +
              x.elements[2].value +
              "! A confirmation email has been sent to " +
              x.elements[3].value +
              "! Have a blessed day!!!"
          );
        }
        // Storing information to local storage using Web Storage API
        let form_fields = document.querySelectorAll(
          "#user input, input[type=text], textarea"
        );

        for (let fields of form_fields) {
          localStorage.setItem(fields.name, fields.value);
        }
      }

      // Retrieving stored data and displaying it in a table
      document.getElementById("stored_fname").innerHTML = localStorage.fname;
      document.getElementById("stored_lname").innerHTML = localStorage.lname;
      document.getElementById("stored_uname").innerHTML = localStorage.uname;
      document.getElementById("stored_email").innerHTML = localStorage.email;
      document.getElementById("stored_phone").innerHTML = localStorage.number;
    </script>
  </body>
</html>
